<script lang="ts">
  import { createListbox } from '../listbox'

  export let defaults = {}
  export let items: { id: number; label: string; value: string }[] = []

  const { useListbox, listboxAttrs, optionAttrs } = createListbox(defaults)
</script>

<div use:useListbox {...$listboxAttrs} data-testid="listbox">
  {#each items as item, i}
    <div {...$optionAttrs(item.value)} data-testid="option-{item.id}">
      {item.label}
    </div>
  {/each}
</div>
